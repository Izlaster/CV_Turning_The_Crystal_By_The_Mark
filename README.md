**Программа числовой код кристалла**

![](media/8c3be4297343680a9cf75cdc348791f4.png)

Кнопка (А) служит для проверки на наличие метки у кристалла.

Поле (Б) куда нужно вписать название файла, в который в дальнейшем запишется числовой код изображения. Если файла с вписанным названием не существует, тогда программа самостоятельно создаст файл с расширением .txt в ту же директиву, где находится программа.

После нажатия на кнопку преобразовать программа потребует выбрать изображение, которое хотите использовать.

После выбора изображения программа выдаст 2 фотографии: одна с выделенной областью, вторая с поворотом на 12 часов

![Изображение выглядит как круг, керамическая посуда, искусство Автоматически созданное описание](media/085d186d8a2e0e4f08c1cae5816bfce7.png)

А также в поле (В) будет выведен числовой код повернутого изображения.

![Изображение выглядит как текст, снимок экрана, Шрифт Автоматически созданное описание](media/9edf4d049eec8f9b878bb14b885fa63b.png)

Таблица функций:

| Функция               | Описание                                                                                                                                                                                                                                                                                                                          |
|-----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| generate_matrix_id    | Генерирует числовой код (хеш) изображения на основе его матрицы пикселей.                                                                                                                                                                                                                                                         |
| circle_mask           | Создает маску круга на изображении с заданным центром и радиусом.                                                                                                                                                                                                                                                                 |
| check_black_pixels    | Проверяет, содержит ли изображение более 60% черных пикселей.                                                                                                                                                                                                                                                                     |
| variance_of_laplacian | Рассчитывает вариацию лапласиана изображения.                                                                                                                                                                                                                                                                                     |
| rotate                | Поворачивает изображение вокруг его центра на заданный угол.                                                                                                                                                                                                                                                                      |
| show_image            | Отображает изображение в графическом интерфейсе.                                                                                                                                                                                                                                                                                  |
| update_image_label    | Обновляет размеры и отображение изображения в графическом интерфейсе, чтобы оно соответствовало размеру окна.                                                                                                                                                                                                                     |
| on_window_resize      | Обработчик события изменения размера окна. Вызывает функцию update_image_label для обновления размеров отображаемого изображения при изменении размера окна.                                                                                                                                                                      |
| get_glossy            | Обрабатывает изображение, находит основной окружной контур и создает маску этого контура. Если вариация лапласиана меньше 58, возвращает маску и центр окружности, иначе возвращает только маску.                                                                                                                                 |
| try_filter            | Применяет фильтры и анализирует изображение с целью поиска метки. Проверяет условия наличия черных пикселей и нахождения основной окружности. Если метка найдена, отображает изображение с выделенной меткой. Если используется режим проверки (check=True), выводит сообщение о нахождении метки. Возвращает числовой код метки. |
| btn_click             | Обработчик нажатия кнопки "Преобразовать". Получает выбранный файл, обрабатывает его и генерирует числовой код метки. Записывает результат в текстовый файл.                                                                                                                                                                      |
| btn_check             | Обработчик нажатия кнопки "Проверить". Получает выбранный файл, обрабатывает его и анализирует на наличие метки. Если метка найдена, выводит сообщение об успешной находке.                                                                                                                                                       |
